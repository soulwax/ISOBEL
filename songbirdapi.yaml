openapi: 3.0.0
paths:
  /:
    get:
      operationId: AppController_getLandingPage
      parameters: []
      responses:
        "200":
          description: Renders a short overview page and links to documentation
          content:
            application/json:
              schema:
                type: string
      summary: Landing page with interactive route explorer
      tags: &a1
        - Root
  /routes:
    get:
      operationId: AppController_getRoutes
      parameters: []
      responses:
        "200":
          description: JSON object containing all available routes organized by module
      summary: Get all available API routes
      tags: *a1
  /api/spotify/search/tracks:
    get:
      operationId: SpotifyController_searchTracks
      parameters:
        - name: query
          required: true
          in: query
          description: Search query string
          schema:
            type: string
        - name: limit
          required: false
          in: query
          description: Number of results to return (default 10)
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TrackDto"
      summary: Search for tracks on Spotify
      tags: &a2
        - Spotify
  /api/spotify/recommendations:
    get:
      operationId: SpotifyController_getRecommendations
      parameters:
        - name: seed_tracks
          required: false
          in: query
          description: Comma-separated Spotify track IDs
          schema:
            example: 4iV5W9uYEdYUVa79Axb7Rh,0VjIjW4GlUZ9YafUnjvTv7
            type: string
        - name: seed_artists
          required: false
          in: query
          description: Comma-separated Spotify artist IDs
          schema:
            example: 4Z8W4fKeB5YxbusRsdQVPb
            type: string
        - name: seed_genres
          required: false
          in: query
          description: Comma-separated genre names
          schema:
            example: rock,pop,indie
            type: string
        - name: limit
          required: false
          in: query
          description: Number of recommendations (1-100)
          schema:
            default: 20
            type: number
        - name: market
          required: false
          in: query
          description: Market code (ISO 3166-1 alpha-2)
          schema:
            type: string
        - name: target_danceability
          required: false
          in: query
          description: Target danceability (0.0-1.0)
          schema:
            type: number
        - name: target_popularity
          required: false
          in: query
          description: Target popularity (0-100)
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecommendationResponseDto"
      summary: Get Spotify recommendations using seeds
      tags: *a2
  /api/spotify/recommendations/from-search:
    post:
      operationId: SpotifyController_getRecommendationsFromSearch
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecommendationsFromSearchRequestDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecommendationResponseDto"
      summary: Search for a track and get recommendations seeded from it
      tags: *a2
  /api/spotify/recommendations/spice-up:
    post:
      operationId: SpotifyController_spiceUpPlaylist
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SpiceUpRequestDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SpiceUpResponseDto"
      summary: Generate recommendations to spice up a playlist
      tags: *a2
  /api/lastfm/track/info:
    get:
      operationId: LastfmController_getTrackInfo
      parameters:
        - name: artist
          required: true
          in: query
          description: Artist name
          schema:
            type: string
        - name: track
          required: true
          in: query
          description: Track name
          schema:
            type: string
        - name: mbid
          required: false
          in: query
          description: MusicBrainz ID
          schema:
            type: string
      responses:
        "200":
          description: Track information object
      summary: Get detailed information for a track
      tags: &a3
        - Last.fm
  /api/lastfm/artist/info:
    get:
      operationId: LastfmController_getArtistInfo
      parameters:
        - name: artist
          required: true
          in: query
          description: Artist name
          schema:
            type: string
        - name: mbid
          required: false
          in: query
          description: MusicBrainz ID
          schema:
            type: string
      responses:
        "200":
          description: Artist information object
      summary: Get detailed information for an artist
      tags: *a3
  /api/lastfm/track/search:
    get:
      operationId: LastfmController_searchTracks
      parameters:
        - name: query
          required: true
          in: query
          description: Search query
          schema:
            type: string
        - name: limit
          required: false
          in: query
          description: Number of results per page
          schema:
            type: number
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            type: number
      responses:
        "200":
          description: Last.fm search result object
      summary: Search for tracks on Last.fm
      tags: *a3
  /api/lastfm/artist/search:
    get:
      operationId: LastfmController_searchArtists
      parameters:
        - name: query
          required: true
          in: query
          description: Search query
          schema:
            type: string
        - name: limit
          required: false
          in: query
          description: Number of results per page
          schema:
            type: number
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            type: number
      responses:
        "200":
          description: Last.fm search result object
      summary: Search for artists on Last.fm
      tags: *a3
  /api/lastfm/artist/top-tracks:
    get:
      operationId: LastfmController_getArtistTopTracks
      parameters:
        - name: artist
          required: true
          in: query
          description: Artist name
          schema:
            type: string
        - name: limit
          required: false
          in: query
          description: Number of tracks to return
          schema:
            type: number
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            type: number
      responses:
        "200":
          description: Top tracks response from Last.fm
      summary: Get top tracks for an artist
      tags: *a3
  /api/lastfm/track/similar:
    get:
      operationId: LastfmController_getSimilarTracks
      parameters:
        - name: artist
          required: true
          in: query
          description: Artist name
          schema:
            type: string
        - name: track
          required: true
          in: query
          description: Track name
          schema:
            type: string
        - name: limit
          required: false
          in: query
          description: Number of similar tracks to return
          schema:
            type: number
      responses:
        "200":
          description: Similar tracks response from Last.fm
      summary: Get similar tracks for a given track
      tags: *a3
  /api/lastfm/recommendations/spice-up:
    post:
      operationId: LastfmController_spiceUpPlaylist
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LastfmSpiceUpRequestDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LastfmSpiceUpResponseDto"
      summary: Generate recommendations using Last.fm similarity data
      tags: *a3
  /api/lastfm/recommendations/spice-up-with-deezer:
    post:
      operationId: LastfmController_spiceUpPlaylistWithDeezer
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LastfmSpiceUpWithDeezerRequestDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LastfmSpiceUpWithDeezerResponseDto"
      summary: Generate Last.fm recommendations and convert them to Deezer track IDs
      tags: *a3
  /api/deezer/search/tracks:
    get:
      operationId: DeezerController_searchTracks
      parameters:
        - name: query
          required: true
          in: query
          description: Search query string
          schema:
            type: string
        - name: limit
          required: false
          in: query
          description: Number of results to return (max 25)
          schema:
            type: number
      responses:
        "200":
          description: Raw response from Deezer search API
      summary: Search for tracks on Deezer
      tags: &a4
        - Deezer
  /api/deezer/track/find-id:
    get:
      operationId: DeezerController_findTrackId
      parameters:
        - name: name
          required: true
          in: query
          description: Track title
          schema:
            type: string
        - name: artist
          required: false
          in: query
          description: Artist name to improve accuracy
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FindTrackIdResponseDto"
      summary: Find a Deezer track ID by name and artist
      tags: *a4
  /api/deezer/tracks/convert:
    post:
      operationId: DeezerController_convertTracksToDeezerIds
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConvertToDeezerRequestDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConvertToDeezerResponseDto"
      summary: Convert an array of tracks to Deezer track IDs
      tags: *a4
  /api/deezer/artist/{artistName}/tracks:
    get:
      operationId: DeezerController_getArtistTracks
      parameters:
        - name: artistName
          required: true
          in: path
          description: Artist name (URL-encoded)
          schema:
            example: Radiohead
            type: string
        - name: limit
          required: false
          in: query
          description: "Maximum number of tracks to return (default: 100)"
          schema:
            type: number
      responses:
        "200":
          description: Array of detailed track objects sorted by popularity
        "400":
          description: Artist not found or invalid request
      summary: Get all tracks from an artist sorted by popularity
      tags: *a4
  /api/deezer/album/{albumName}/tracks:
    get:
      operationId: DeezerController_getAlbumTracks
      parameters:
        - name: albumName
          required: true
          in: path
          description: Album name (URL-encoded)
          schema:
            example: OK Computer
            type: string
        - name: artist
          required: true
          in: query
          description: Artist name
          schema:
            type: string
      responses:
        "200":
          description: Array of detailed track objects in track order
        "400":
          description: Album not found or invalid request
      summary: Get all tracks from an album in track order
      tags: *a4
  /music/stream:
    get:
      operationId: MusicStreamingController_streamMusic
      parameters:
        - name: key
          required: true
          in: query
          schema:
            type: string
        - name: id
          required: false
          in: query
          schema:
            type: string
        - name: q
          required: false
          in: query
          schema:
            type: string
        - name: link
          required: false
          in: query
          schema:
            type: boolean
        - name: file
          required: false
          in: query
          schema:
            type: boolean
        - name: kbps
          required: false
          in: query
          schema:
            type: number
        - name: offset
          required: false
          in: query
          schema:
            type: number
      responses:
        "200":
          description: Stream begins or link provided.
        "400":
          description: Invalid request parameters.
        "401":
          description: Invalid or missing API key.
        "404":
          description: No results found.
        "500":
          description: Server error during streaming or download.
      summary: Stream music
      tags: &a5
        - music
  /music/health:
    get:
      operationId: MusicStreamingController_healthCheck
      parameters: []
      responses:
        "200":
          description: Service is healthy
      summary: Health check endpoint
      tags: *a5
  /music/search:
    get:
      operationId: MusicStreamingController_searchMusic
      parameters:
        - name: q
          required: true
          in: query
          schema:
            type: string
        - name: offset
          required: false
          in: query
          description: "Result offset for pagination (default: 0)"
          schema:
            type: number
      responses:
        "200":
          description: Search results from Deezer.
        "500":
          description: Error during the search operation.
      summary: Search music on Deezer
      tags: *a5
  /music/cleanup:
    get:
      operationId: MusicStreamingController_cleanupDownloadFolder
      parameters: []
      responses:
        "200":
          description: Cleanup successful.
        "500":
          description: Error during the cleanup operation.
      summary: Clean up download folder
      tags: *a5
  /music/tracks/batch:
    get:
      operationId: MusicStreamingController_getBatchTrackMetadata
      parameters:
        - name: ids
          required: true
          in: query
          description: Comma-separated Deezer track IDs
          schema:
            type: string
      responses:
        "200":
          description: Array of track metadata
        "400":
          description: Invalid track IDs
      summary: Get metadata for multiple tracks
      tags: *a5
  /music/search/advanced:
    get:
      operationId: MusicStreamingController_advancedSearch
      parameters:
        - name: q
          required: true
          in: query
          description: Search query
          schema:
            type: string
        - name: artist
          required: false
          in: query
          description: Filter by artist
          schema:
            type: string
        - name: album
          required: false
          in: query
          description: Filter by album
          schema:
            type: string
        - name: durationMin
          required: false
          in: query
          description: Minimum duration in seconds
          schema:
            type: number
        - name: durationMax
          required: false
          in: query
          description: Maximum duration in seconds
          schema:
            type: number
        - name: offset
          required: false
          in: query
          description: Pagination offset
          schema:
            type: number
        - name: limit
          required: false
          in: query
          description: Results limit
          schema:
            type: number
      responses:
        "200":
          description: Filtered search results
      summary: Advanced search with filters
      tags: *a5
  /music/stream-static:
    get:
      operationId: MusicStreamingController_streamStaticMusic
      parameters:
        - name: id
          required: true
          in: query
          schema:
            type: number
        - name: range
          required: false
          in: query
          description: Percentage range of the song to stream, e.g., "0-20" or "20-40".
          schema:
            type: string
      responses:
        "200":
          description: Streaming of the music file started.
        "400":
          description: Invalid ID or ID out of range.
        "500":
          description: Error during streaming.
      summary: Stream static music file
      tags: *a5
  /music/artist/{artistName}:
    get:
      operationId: MusicStreamingController_getArtistSongs
      parameters:
        - name: artistName
          required: true
          in: path
          description: Artist name (URL-encoded)
          schema:
            example: Radiohead
            type: string
        - name: limit
          required: false
          in: query
          description: "Maximum number of tracks to return (default: 100)"
          schema:
            type: number
      responses:
        "200":
          description: Array of detailed track objects sorted by popularity (rank)
        "400":
          description: Artist not found or invalid request
      summary: Get all songs from a particular artist sorted by popularity
      tags: *a5
  /music/album/{albumName}:
    get:
      operationId: MusicStreamingController_getAlbumSongs
      parameters:
        - name: albumName
          required: true
          in: path
          description: Album name (URL-encoded)
          schema:
            example: OK Computer
            type: string
        - name: artist
          required: true
          in: query
          description: Artist name
          schema:
            type: string
      responses:
        "200":
          description: Array of detailed track objects in track order (by track_position)
        "400":
          description: Album not found or invalid request
      summary: Get all songs from an album in track order
      tags: *a5
  /music/favorites/{trackId}:
    post:
      operationId: FavoritesController_addFavorite
      parameters:
        - name: trackId
          required: true
          in: path
          description: Deezer track ID
          schema:
            type: string
      responses:
        "201":
          description: Track added to favorites
        "401":
          description: Unauthorized
        "404":
          description: Track not found
        "409":
          description: Track already in favorites
      security: &a6
        - bearer: []
      summary: Add a track to favorites
      tags: &a7
        - favorites
    delete:
      operationId: FavoritesController_removeFavorite
      parameters:
        - name: trackId
          required: true
          in: path
          description: Deezer track ID
          schema:
            type: string
      responses:
        "204":
          description: Track removed from favorites
        "401":
          description: Unauthorized
        "404":
          description: Favorite not found
      security: *a6
      summary: Remove a track from favorites
      tags: *a7
  /music/favorites:
    get:
      operationId: FavoritesController_getFavorites
      parameters:
        - name: limit
          required: false
          in: query
          description: "Limit results (default: 50)"
          schema:
            type: number
        - name: offset
          required: false
          in: query
          description: "Offset for pagination (default: 0)"
          schema:
            type: number
      responses:
        "200":
          description: List of favorite tracks
        "401":
          description: Unauthorized
      security: *a6
      summary: Get all favorite tracks
      tags: *a7
  /music/favorites/check/{trackId}:
    get:
      operationId: FavoritesController_checkFavorite
      parameters:
        - name: trackId
          required: true
          in: path
          description: Deezer track ID
          schema:
            type: string
      responses:
        "200":
          description: "Returns { isFavorite: boolean }"
        "401":
          description: Unauthorized
      security: *a6
      summary: Check if a track is in favorites
      tags: *a7
  /music/favorites/count:
    get:
      operationId: FavoritesController_getFavoriteCount
      parameters: []
      responses:
        "200":
          description: "Returns { count: number }"
        "401":
          description: Unauthorized
      security: *a6
      summary: Get total count of favorite tracks
      tags: *a7
  /music/favorites/batch-check:
    post:
      operationId: FavoritesController_batchCheckFavorites
      parameters:
        - name: trackIds
          required: true
          in: query
          schema:
            type: string
      responses:
        "200":
          description: Returns object with track IDs as keys and boolean values
        "401":
          description: Unauthorized
      security: *a6
      summary: Batch check if tracks are favorited
      tags: *a7
  /music/history:
    get:
      operationId: ListeningHistoryController_getHistory
      parameters:
        - name: limit
          required: false
          in: query
          description: "Limit results (default: 50)"
          schema:
            type: number
        - name: offset
          required: false
          in: query
          description: "Offset for pagination (default: 0)"
          schema:
            type: number
      responses:
        "200":
          description: Listening history
        "401":
          description: Unauthorized
      security: &a8
        - bearer: []
      summary: Get listening history
      tags: &a9
        - listening-history
    delete:
      operationId: ListeningHistoryController_clearHistory
      parameters: []
      responses:
        "204":
          description: Listening history cleared
        "401":
          description: Unauthorized
      security: *a8
      summary: Clear listening history
      tags: *a9
  /music/history/recent:
    get:
      operationId: ListeningHistoryController_getRecentlyPlayed
      parameters:
        - name: limit
          required: false
          in: query
          description: "Limit results (default: 20)"
          schema:
            type: number
      responses:
        "200":
          description: Recently played tracks
        "401":
          description: Unauthorized
      security: *a8
      summary: Get recently played tracks (unique)
      tags: *a9
  /music/history/stats:
    get:
      operationId: ListeningHistoryController_getStats
      parameters:
        - name: days
          required: false
          in: query
          description: "Number of days to include in stats (default: 30)"
          schema:
            type: number
      responses:
        "200":
          description: Listening statistics
        "401":
          description: Unauthorized
      security: *a8
      summary: Get listening statistics
      tags: *a9
  /music/playlists:
    post:
      operationId: PlaylistController_createPlaylist
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreatePlaylistDto"
      responses:
        "201":
          description: Playlist created successfully
        "401":
          description: Unauthorized
      security: &a10
        - bearer: []
      summary: Create a new playlist
      tags: &a11
        - playlists
    get:
      operationId: PlaylistController_getUserPlaylists
      parameters: []
      responses:
        "200":
          description: List of playlists
        "401":
          description: Unauthorized
      security: *a10
      summary: Get all playlists for the authenticated user
      tags: *a11
  /music/playlists/{playlistId}:
    get:
      operationId: PlaylistController_getPlaylist
      parameters:
        - name: playlistId
          required: true
          in: path
          description: Playlist ID
          schema:
            type: string
      responses:
        "200":
          description: Playlist details
        "401":
          description: Unauthorized
        "403":
          description: Forbidden - playlist is private
        "404":
          description: Playlist not found
      security: *a10
      summary: Get a specific playlist by ID
      tags: *a11
    put:
      operationId: PlaylistController_updatePlaylist
      parameters:
        - name: playlistId
          required: true
          in: path
          description: Playlist ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdatePlaylistDto"
      responses:
        "200":
          description: Playlist updated successfully
        "401":
          description: Unauthorized
        "403":
          description: Forbidden - not playlist owner
        "404":
          description: Playlist not found
      security: *a10
      summary: Update a playlist
      tags: *a11
    delete:
      operationId: PlaylistController_deletePlaylist
      parameters:
        - name: playlistId
          required: true
          in: path
          description: Playlist ID
          schema:
            type: string
      responses:
        "204":
          description: Playlist deleted successfully
        "401":
          description: Unauthorized
        "403":
          description: Forbidden - not playlist owner
        "404":
          description: Playlist not found
      security: *a10
      summary: Delete a playlist
      tags: *a11
  /music/playlists/{playlistId}/tracks:
    post:
      operationId: PlaylistController_addTrack
      parameters:
        - name: playlistId
          required: true
          in: path
          description: Playlist ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddToPlaylistDto"
      responses:
        "201":
          description: Track added to playlist
        "400":
          description: Track already in playlist
        "401":
          description: Unauthorized
        "403":
          description: Forbidden - not playlist owner
        "404":
          description: Playlist or track not found
      security: *a10
      summary: Add a track to a playlist
      tags: *a11
  /music/playlists/{playlistId}/tracks/{trackId}:
    delete:
      operationId: PlaylistController_removeTrack
      parameters:
        - name: playlistId
          required: true
          in: path
          description: Playlist ID
          schema:
            type: string
        - name: trackId
          required: true
          in: path
          description: Deezer track ID
          schema:
            type: string
      responses:
        "200":
          description: Track removed from playlist
        "401":
          description: Unauthorized
        "403":
          description: Forbidden - not playlist owner
        "404":
          description: Playlist or track not found
      security: *a10
      summary: Remove a track from a playlist
      tags: *a11
  /music/playlists/{playlistId}/tracks/reorder:
    put:
      operationId: PlaylistController_reorderTrack
      parameters:
        - name: playlistId
          required: true
          in: path
          description: Playlist ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReorderPlaylistDto"
      responses:
        "200":
          description: Track reordered successfully
        "400":
          description: Invalid position
        "401":
          description: Unauthorized
        "403":
          description: Forbidden - not playlist owner
        "404":
          description: Playlist or track not found
      security: *a10
      summary: Reorder a track in a playlist
      tags: *a11
  /music/convert/playlist:
    post:
      description: Takes an array of song names and converts them to either Spotify or
        Deezer format. Returns full track data from the target platform for each
        song.
      operationId: PlaylistConversionController_convertPlaylist
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PlaylistConversionRequestDto"
      responses:
        "200":
          description: Conversion results with full track data from target platform
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PlaylistConversionResponseDto"
        "400":
          description: Invalid request
      summary: Convert playlist songs between Spotify and Deezer
      tags:
        - playlist-conversion
info:
  title: Songbird API
  description: Aggregated music intelligence from Spotify, Last.fm, and Deezer
    with unified authentication, caching, and playlist workflows.
  version: 0.4.2
  contact: {}
tags: []
servers:
  - url: https://songbirdapi.com
    description: Production (HTTPS)
  - url: http://localhost:3333
    description: Local development
components:
  schemas:
    TrackArtistDto:
      type: object
      properties:
        name:
          type: string
          description: Artist name
        id:
          type: string
          description: Spotify artist ID
      required:
        - name
        - id
    TrackAlbumDto:
      type: object
      properties:
        name:
          type: string
          description: Album name
      required:
        - name
    TrackExternalUrlsDto:
      type: object
      properties:
        spotify:
          type: string
          description: Spotify URL for the track
      required:
        - spotify
    TrackDto:
      type: object
      properties:
        id:
          type: string
          description: Spotify track ID
        name:
          type: string
          description: Track title
        artists:
          description: List of track artists
          type: array
          items:
            $ref: "#/components/schemas/TrackArtistDto"
        album:
          description: Album information
          allOf:
            - $ref: "#/components/schemas/TrackAlbumDto"
        popularity:
          type: number
          description: Popularity score (0-100)
        preview_url:
          type: object
          description: 30 second preview MP3 URL
        external_urls:
          description: External URLs for the track
          allOf:
            - $ref: "#/components/schemas/TrackExternalUrlsDto"
      required:
        - id
        - name
        - artists
        - album
        - popularity
        - external_urls
    RecommendationSeedDto:
      type: object
      properties:
        id:
          type: string
          description: Seed identifier
        type:
          type: string
          description: Seed type (track, artist, genre)
        initialPoolSize:
          type: number
          description: Initial pool size used by Spotify
      required:
        - id
        - type
        - initialPoolSize
    RecommendationResponseDto:
      type: object
      properties:
        seeds:
          description: Seed details provided by Spotify
          type: array
          items:
            $ref: "#/components/schemas/RecommendationSeedDto"
        tracks:
          description: Recommended tracks
          type: array
          items:
            $ref: "#/components/schemas/TrackDto"
      required:
        - seeds
        - tracks
    RecommendationsFromSearchRequestDto:
      type: object
      properties:
        query:
          type: string
          description: Search query used to find a seed track
        limit:
          type: number
          description: Number of recommendations to return (1-100)
          default: 20
      required:
        - query
    SongInputDto:
      type: object
      properties:
        name:
          type: string
          description: Song title to use for seed search
        artist:
          type: string
          description: Artist name to use for seed search
        album:
          type: string
          description: Album name to use for seed search
    SpiceUpRequestDto:
      type: object
      properties:
        songs:
          minItems: 1
          description: Songs used to generate seed information
          type: array
          items:
            $ref: "#/components/schemas/SongInputDto"
        limit:
          type: number
          description: Number of recommendations to return (1-100)
          default: 20
        mode:
          type: string
          description: Diversity mode. strict -> most similar, diverse -> most variety
          enum:
            - strict
            - normal
            - diverse
          default: normal
      required:
        - songs
    SpiceUpSeedDto:
      type: object
      properties:
        id:
          type: string
          description: Seed identifier used by Spotify
        type:
          type: string
          description: Seed type (track, artist, genre)
        initialPoolSize:
          type: number
          description: Initial pool size for the seed
      required:
        - id
        - type
        - initialPoolSize
    SpiceUpResponseDto:
      type: object
      properties:
        mode:
          type: string
          description: Diversity mode applied
        inputSongs:
          type: number
          description: Number of input songs provided
        recommendations:
          description: Recommended Spotify tracks
          type: array
          items:
            $ref: "#/components/schemas/TrackDto"
        seeds:
          description: Seed data returned by Spotify
          type: array
          items:
            $ref: "#/components/schemas/SpiceUpSeedDto"
      required:
        - mode
        - inputSongs
        - recommendations
        - seeds
    LastfmSongInputDto:
      type: object
      properties:
        name:
          type: string
          description: Song title to use for Last.fm search
        artist:
          type: string
          description: Artist name to use for Last.fm search
        album:
          type: string
          description: Album name to use for Last.fm search
    LastfmSpiceUpRequestDto:
      type: object
      properties:
        songs:
          minItems: 1
          description: Songs used as seeds for Last.fm search
          type: array
          items:
            $ref: "#/components/schemas/LastfmSongInputDto"
        limit:
          type: number
          description: Number of recommended tracks to return (1-100)
          default: 20
        mode:
          type: string
          description: Diversity mode for recommendation variety
          enum: &a12
            - strict
            - normal
            - diverse
          default: normal
      required:
        - songs
    LastfmRecommendationDto:
      type: object
      properties:
        name:
          type: string
          description: Track name
        artist:
          type: string
          description: Artist name
        url:
          type: string
          description: Last.fm track URL
        match:
          type: number
          description: Match score provided by Last.fm
        mbid:
          type: string
          description: MusicBrainz ID if available
      required:
        - name
        - artist
        - url
    LastfmSpiceUpResponseDto:
      type: object
      properties:
        mode:
          type: string
          description: Diversity mode applied
        inputSongs:
          type: number
          description: Number of input songs provided
        recommendations:
          description: Recommended Last.fm tracks
          type: array
          items:
            $ref: "#/components/schemas/LastfmRecommendationDto"
        foundSongs:
          type: number
          description: Number of input songs successfully matched on Last.fm
      required:
        - mode
        - inputSongs
        - recommendations
        - foundSongs
    LastfmSpiceUpWithDeezerRequestDto:
      type: object
      properties:
        songs:
          minItems: 1
          description: Songs used as seeds for Last.fm search
          type: array
          items:
            $ref: "#/components/schemas/LastfmSongInputDto"
        limit:
          type: number
          description: Number of recommended tracks to return (1-100)
          default: 20
        mode:
          type: string
          description: Diversity mode for recommendation variety
          enum: *a12
          default: normal
        convertToDeezer:
          type: boolean
          description: Convert Last.fm recommendations to Deezer track IDs
          default: true
      required:
        - songs
    LastfmSpiceUpWithDeezerResponseRecommendationDto:
      type: object
      properties:
        name:
          type: string
          description: Track name
        artist:
          type: string
          description: Artist name
        url:
          type: string
          description: Last.fm track URL
        match:
          type: number
          description: Match score provided by Last.fm
        mbid:
          type: string
          description: MusicBrainz ID if available
        deezerId:
          type: object
          description: Deezer track ID if conversion succeeded
      required:
        - name
        - artist
        - url
    LastfmSpiceUpWithDeezerResponseDto:
      type: object
      properties:
        mode:
          type: string
          description: Diversity mode applied
        inputSongs:
          type: number
          description: Number of input songs provided
        foundSongs:
          type: number
          description: Number of input songs successfully matched on Last.fm
        recommendations:
          description: Recommended tracks with optional Deezer IDs
          type: array
          items:
            $ref: "#/components/schemas/LastfmSpiceUpWithDeezerResponseRecommendationDto"
        deezerConversion:
          type: object
          description: Summary of Deezer ID conversions
          example:
            converted: 18
            total: 20
      required:
        - mode
        - inputSongs
        - foundSongs
        - recommendations
    FindTrackIdResponseDto:
      type: object
      properties:
        name:
          type: string
          description: Original track title
        artist:
          type: string
          description: Original artist name
        deezerId:
          type: object
          description: Matched Deezer track ID
      required:
        - name
    TrackToConvertDto:
      type: object
      properties:
        name:
          type: string
          description: Track title to search on Deezer
        artist:
          type: string
          description: Artist name to improve Deezer search accuracy
      required:
        - name
    ConvertToDeezerRequestDto:
      type: object
      properties:
        tracks:
          minItems: 1
          description: Tracks to convert to Deezer IDs
          type: array
          items:
            $ref: "#/components/schemas/TrackToConvertDto"
      required:
        - tracks
    ConvertedTrackResultDto:
      type: object
      properties:
        name:
          type: string
          description: Original track title
        artist:
          type: string
          description: Original artist name
        deezerId:
          type: object
          description: Matched Deezer track ID
      required:
        - name
    ConvertToDeezerResponseDto:
      type: object
      properties:
        converted:
          type: number
          description: Number of tracks successfully converted
        total:
          type: number
          description: Total number of tracks processed
        tracks:
          description: Conversion results per track
          type: array
          items:
            $ref: "#/components/schemas/ConvertedTrackResultDto"
      required:
        - converted
        - total
        - tracks
    CreatePlaylistDto:
      type: object
      properties:
        name:
          type: string
          description: Playlist name
          example: My Chill Vibes
          maxLength: 100
        description:
          type: string
          description: Playlist description
          example: Perfect music for relaxing evenings
          maxLength: 500
        isPublic:
          type: boolean
          description: Whether the playlist is public
          example: true
          default: true
        coverImage:
          type: string
          description: Cover image URL
          example: https://example.com/cover.jpg
      required:
        - name
    UpdatePlaylistDto:
      type: object
      properties:
        name:
          type: string
          description: Playlist name
          example: My Updated Playlist
          maxLength: 100
        description:
          type: string
          description: Playlist description
          example: Updated description
          maxLength: 500
        isPublic:
          type: boolean
          description: Whether the playlist is public
          example: false
        coverImage:
          type: string
          description: Cover image URL
          example: https://example.com/new-cover.jpg
    AddToPlaylistDto:
      type: object
      properties:
        deezerTrackId:
          type: string
          description: Deezer track ID to add
          example: "3135556"
        position:
          type: number
          description: Position in playlist (optional, defaults to end)
          example: 5
      required:
        - deezerTrackId
    ReorderPlaylistDto:
      type: object
      properties:
        trackId:
          type: string
          description: Track ID to move
          example: 123e4567-e89b-12d3-a456-426614174000
        newPosition:
          type: number
          description: New position (0-based index)
          example: 3
      required:
        - trackId
        - newPosition
    PlaylistConversionRequestDto:
      type: object
      properties:
        songs:
          description: Array of songs to convert
          example:
            - name: Creep
              artist: Radiohead
            - name: Bohemian Rhapsody
              artist: Queen
          type: array
          items:
            $ref: "#/components/schemas/SongInputDto"
        output:
          type: string
          enum:
            - deezer
            - spotify
          description: Target platform for conversion
          example: deezer
      required:
        - songs
        - output
    PlaylistConversionResponseDto:
      type: object
      properties:
        output:
          type: string
          description: Target platform
        inputCount:
          type: number
          description: Number of input songs
        convertedCount:
          type: number
          description: Number of successfully converted songs
        results:
          description: Array of conversion results, one per input song
          type: array
          items:
            type: string
      required:
        - output
        - inputCount
        - convertedCount
        - results
